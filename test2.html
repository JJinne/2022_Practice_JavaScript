<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>객체지향 프로그래밍</title>
    <style>
      
    </style>
  </head>

  <body>

    <section class="preview">



    </section>

  </body>
  <script>
     
      //1. 프로토타입 기반 언어 
      //객체 리터럴
      // var obj1 = {};
      // obj1.name = 'name';
      // // Object() 생성자 함수
      // var obj2 = new Object();
      // obj2.name = 'Lee';
      // //생성자 함수
      // function F(){}
      // var obj3 = new F();
      // obj3.name = 'Lee';
      //2.생성자 함수와 인스턴스의 생성
      // function Person(name){
      //   this.name =name;

      //   this.setName = function(name){
      //     this.name = name;
      //   };
      //   this.getName = function(name){
      //     return this.name;
      //   }
      // }
      // var me = new Person('park');
      // alert(me.getName());

      // me.setName('Lee');
      // alert(me.getName());


      // var me  = new Person('Lee');
      // var you = new Person('Kim');
      // var him = new Person('Choi');


      // // 각각의 인스턴스에 메소드가 중복되어 생성 = >메모리 낭비
      // console.log(me);
      // console.log(you);
      // console.log(him);
      
      //3. 프로토타입 체인과 메소드의 정의
      // function Person(name){
      //   this.name = name;
      // }
      // Person.prototype.setName = function(name){
      //   this.name = name;
      // }
      // Person.prototype.getName = function(name){
      //   return this.name;
      // }

      // var me  = new Person('Lee');
      // var you = new Person('Kim');
      // var him = new Person('Choi');

      // console.log(Person.prototype);
      
      // console.log(me.getName());
      // console.log(you);
      // console.log(him);

      //모든 생성자 함수의 프로토타입은 Function.prototype이다. 따라서 모든 생성자 함수는 Function.prototype.method()에 접근할 수 있다. 
      // Function.prototype.method = function(name,func){
      //   if(!this.prototype[name]){
      //     this.prototype[name] = func;
      //   }
      // };
      // function Person(name){
      //   this.name = name;
      
      // }

      // Person.method('setName',function(name){
      //   this.name = name;
      // });
      // Person.method('getName',function(name){
      //   return this.name;
      // });
      // var me  = new Person('Lee');
      // var you = new Person('Kim');
      // var him = new Person('Choi');

      // console.log(Person.prototype);
      
      // console.log(me);
      // console.log(you);
      // console.log(him);

      //4-1. 상속 - 의사 클래스 패턴 상속
      //부모 생성자 함수
      // var Parent = (function () {
      //   // Constructor
      //   function Parent(name) {
      //     this.name = name;
      //   }

      //   // method
      //   Parent.prototype.sayHi = function () {
      //     console.log('Hi! ' + this.name);
      //   };

      //   // return constructor
      //   return Parent;
      // }());

      // // 자식 생성자 함수
      // var Child = (function () {
      //   // Constructor
      //   function Child(name) {
      //     this.name = name;
      //   }

      //   // 자식 생성자 함수의 프로토타입 객체를 부모 생성자 함수의 인스턴스로 교체.
      //   Child.prototype = new Parent(); // ②

      //   // 메소드 오버라이드
      //   Child.prototype.sayHi = function () {
      //     console.log('안녕하세요! ' + this.name);
      //   };

      //   // sayBye 메소드는 Parent 생성자함수의 인스턴스에 위치된다
      //   Child.prototype.sayBye = function () {
      //     console.log('안녕히가세요! ' + this.name);
      //   };

      //   // return constructor
      //   return Child;
      // }());

      // var child = new Child('child'); // ①
      // console.log(child);  // Parent { name: 'child' }

      // console.log(Child.prototype); // Parent { name: undefined, sayHi: [Function], sayBye: [Function] }

      // child.sayHi();  // 안녕하세요! child
      // child.sayBye(); // 안녕히가세요! child

      // var parent  = new Parent('parent')
      // console.log(parent);
      // parent.sayHi();  // HI! parent

      // console.log(child instanceof Parent); // true
      // console.log(child instanceof Child);  // true
      //4-2. 프로토타입 패턴 상속 (Prototypal Inheritance) 
      //Object.create 함수를 사용하여 객체에서 다른 객체로 직접 상속
      var Parent = (function () {
        // Constructor
        function Parent(name) {
          this.name = name;
        }

        // method
        Parent.prototype.sayHi = function () {
          console.log('Hi! ' + this.name);
        };

        // return constructor
        return Parent;
      }());
      var child = Object.create(Parent.prototype);
      child.name = 'child';

      child.sayHi();
      console.log(child instanceof Parent);
      
      child.sayBye = function () {
          console.log('안녕히가세요! ' + this.name);
        };
      child.sayBye();
      var parent = {
        name: 'parent',
        sayHi: function() {
         console.log('Hi! ' + this.name);
        }
      };

      // create 함수의 인자는 객체이다.
      var child = Object.create(parent);
      child.name = 'child';

      // var child = Object.create(parent, {name: {value: 'child'}});

      parent.sayHi(); // Hi! parent
      child.sayHi();  // Hi! child
      
      console.log(parent.isPrototypeOf(child)); // true



  </script>

</html>